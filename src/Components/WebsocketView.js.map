{"version":3,"sources":["Components/WebsocketView.js"],"names":[],"mappings":";;;;;;;;;AAAA;;;;AACA;;;;AACA;;;;;;;;;;IAEa,a,WAAA,a;;;AACT,2BAAY,KAAZ,EAAmB,OAAnB,EAA4B;AAAA;;AAAA,qGAClB,KADkB,EACX,OADW;;AAGxB,cAAK,KAAL,GAAa;AACT,kBAAM;AADG,SAAb;;AAIA,cAAK,SAAL,GAAiB,MAAK,SAAL,CAAe,IAAf,OAAjB;;AAEA,+BAAW,OAAX,CAAmB,MAAK,KAAL,CAAW,MAA9B;AATwB;AAU3B;;;;4CAEmB;AAChB,+BAAS,kBAAT,CAA4B,KAAK,SAAjC;;AAEA,gBAAI,WAAW,EAAf;;AAEA;AACA,gBAAI,OAAO,KAAK,KAAL,CAAW,QAAX,CAAoB,MAA3B,KAAsC,WAA1C,EAAuD;AACnD,yBAAS,IAAT,CAAc,KAAK,KAAL,CAAW,QAAzB;AACJ;AACC,aAHD,MAGO;AACH,2BAAW,KAAK,KAAL,CAAW,QAAtB;AACH;;AAED;AACA,iBAAK,IAAI,KAAT,IAAkB,QAAlB,EAA4B;AACxB,oBAAI,SAAS,cAAT,CAAwB,KAAxB,CAAJ,EAAoC;AAChC,wBAAI,OAAO,SAAS,KAAT,EAAgB,KAAhB,CAAsB,SAA7B,KAA2C,UAA/C,EAA2D;AACvD,2CAAS,kBAAT,CAA4B,SAAS,KAAT,EAAgB,KAAhB,CAAsB,SAAlD;AACH;AACJ;AACJ;AACJ;;;+CAEsB;AACnB,+BAAS,qBAAT,CAA+B,KAAK,SAApC;;AAEA,gBAAI,WAAW,EAAf;;AAEA;AACA,gBAAI,OAAO,KAAK,KAAL,CAAW,QAAX,CAAoB,MAA3B,KAAsC,WAA1C,EAAuD;AACnD,yBAAS,IAAT,CAAc,KAAK,KAAL,CAAW,QAAzB;AACJ;AACC,aAHD,MAGO;AACH,2BAAW,KAAK,KAAL,CAAW,QAAtB;AACH;;AAED;AACA,iBAAK,IAAI,KAAT,IAAkB,QAAlB,EAA4B;AACxB,oBAAI,SAAS,cAAT,CAAwB,KAAxB,CAAJ,EAAoC;AAChC,wBAAI,OAAO,SAAS,KAAT,EAAgB,KAAhB,CAAsB,SAA7B,KAA2C,UAA/C,EAA2D;AACvD,2CAAS,qBAAT,CAA+B,SAAS,KAAT,EAAgB,KAAhB,CAAsB,SAArD;AACH;AACJ;AACJ;AACJ;;;kCAES,I,EAAM;AACZ,iBAAK,QAAL,CAAc;AACV,sBAAM;AADI,aAAd;AAGH;;;iCAEQ;AACL,mBACI,gBAAM,aAAN,CAAoB,KAApB,EAA2B,EAAC,IAAI,eAAL,EAA3B,CADJ;AAIH;;;;;;AAGL,cAAc,YAAd,GAA6B,EAA7B","file":"Components/WebsocketView.js","sourcesContent":["import React, { Component } from 'react';\nimport AppStore from '../Stores/AppStore';\nimport { AppActions } from '../Actions/AppActions';\n\nexport class WebsocketView extends Component {\n    constructor(props, context) {\n        super(props, context);\n\n        this.state = {\n            data: {}\n        };\n\n        this.onMessage = this.onMessage.bind(this);\n\n        AppActions.connect(this.props.server);\n    }\n\n    componentDidMount() {\n        AppStore.addMessageListener(this.onMessage);\n\n        let children = [];\n\n        // Has only one child\n        if (typeof this.props.children.length === 'undefined') {\n            children.push(this.props.children);\n        // Has many children\n        } else {\n            children = this.props.children;\n        }\n\n        // Register child components to store\n        for (let child in children) { \n            if (children.hasOwnProperty(child)) {\n                if (typeof children[child].props.onMessage === 'function') {\n                    AppStore.addMessageListener(children[child].props.onMessage);\n                }\n            }\n        }\n    }\n\n    componentWillUnmount() {\n        AppStore.removeMessageListener(this.onMessage); \n\n        let children = [];\n\n        // Has only one child\n        if (typeof this.props.children.length === 'undefined') {\n            children.push(this.props.children);\n        // Has many children\n        } else {\n            children = this.props.children;\n        }\n\n        // Register child components to store\n        for (let child in children) { \n            if (children.hasOwnProperty(child)) {\n                if (typeof children[child].props.onMessage === 'function') {\n                    AppStore.removeMessageListener(children[child].props.onMessage);\n                }\n            }\n        }               \n    }\n\n    onMessage(item) {\n        this.setState({\n            data: item\n        });        \n    }\n\n    render() {\n        return (\n            React.createElement(\"div\", {id: \"websocketView\"}\n            )\n        );\n    }\n}\n\nWebsocketView.defaultProps = {\n}\n"],"sourceRoot":"/source/"}